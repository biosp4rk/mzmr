.gba
.open "ZM_U.gba","ZM_U_fixChozoHints.gba",0x8000000

; add elevator pair for Crateria/Chozodia
.org 0x8412B80      ; new data (erase data messages)
ElevatorPairs:  
    .db 0x0B,0x00,0x00,0x00,0x0B,0x00,0x00,0x00
    .db 0x05,0x03,0x0E,0x0A,0x00,0x00,0x02,0x0F
    .db 0x00,0x1A,0x16,0x0C,0x02,0x00,0x0E,0x04
    .db 0x00,0x08,0x06,0x12,0x01,0x00,0x09,0x05
    .db 0x02,0x23,0x11,0x0D,0x03,0x00,0x0F,0x02
    .db 0x00,0x0B,0x01,0x03,0x04,0x00,0x14,0x03
    .db 0x05,0x04,0x03,0x0C,0x04,0x05,0x12,0x02
    .db 0x05,0x06,0x0F,0x07,0x02,0x02,0x05,0x04
    .db 0x05,0x12,0x03,0x0C,0x04,0x08,0x12,0x02
    .db 0x05,0x0A,0x17,0x03,0x06,0x22,0x03,0x11

; fix area name graphics to include all area names
AreaNameGfx:
    .import "area_names.lz"

; fix pointers to elevator pairs
.org 0x80581E8
    .dw ElevatorPairs
.org 0x8072B70
    .dw ElevatorPairs
.org 0x8072F7C
    .dw ElevatorPairs

; fix pointers to area name graphics
.org 0x8760120
    .dw AreaNameGfx,AreaNameGfx,AreaNameGfx,AreaNameGfx
    .dw AreaNameGfx,AreaNameGfx,AreaNameGfx

; fix chozo target paths
; every 2 bytes is elevator pair, direction
.org 0x840E068
BrinstarPaths:
    .db 0x00,0x40,0x00,0x40,0x00,0x40    ; Brinstar/Brinstar
    .db 0x03,0x40,0x00,0x40,0x00,0x40    ; Brinstar/Kraid
    .db 0x02,0x40,0x00,0x40,0x00,0x40    ; Brinstar/Norfair
    .db 0x02,0x40,0x04,0x40,0x00,0x40    ; Brinstar/Ridley
    .db 0x05,0x40,0x00,0x40,0x00,0x40    ; Brinstar/Tourian
    .db 0x01,0xC0,0x00,0x40,0x00,0x40    ; Brinstar/Crateria
    .db 0x01,0xC0,0x09,0xC0,0x00,0x40    ; Brinstar/Chozodia
NorfairPaths:
    .db 0x02,0xC0,0x00,0x40,0x00,0x40    ; Norfair/Brinstar
    .db 0x02,0xC0,0x03,0x40,0x00,0x40    ; Norfair/Kraid
    .db 0x00,0x40,0x00,0x40,0x00,0x40    ; Norfair/Norfair
    .db 0x04,0x40,0x00,0x40,0x00,0x40    ; Norfair/Ridley
    .db 0x02,0xC0,0x05,0x40,0x00,0x40    ; Norfair/Tourian
    .db 0x07,0xC0,0x00,0x40,0x00,0x40    ; Norfair/Crateria
    .db 0x07,0xC0,0x09,0xC0,0x00,0x40    ; Norfair/Chozodia

; fix pointers to chozo target paths
.org 0x87603F0
    .dw BrinstarPaths
.org 0x87603F8
    .dw NorfairPaths

.close
